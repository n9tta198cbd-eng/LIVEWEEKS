# API Integration Guide

## ‚úÖ –í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

–ü—Ä–æ–µ–∫—Ç **MAIN** –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±–æ–µ–≤ —á–µ—Ä–µ–∑ API.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MAIN/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ generate.py        # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω! Python API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±–æ–µ–≤
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html         # ‚úÖ –§–æ—Ä–º–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ script.js          # ‚úÖ JavaScript –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 136)
‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ requirements.txt       # ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pillow)
‚îî‚îÄ‚îÄ vercel.json           # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ–ø–ª–æ—è
```

---

## üéØ –ß—Ç–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

### ‚ú® api/generate.py - –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã** –¥–ª—è —á–∞—Å–æ–≤ iPhone (12% —Å–≤–µ—Ä—Ö—É)
- **–õ–æ–≥–æ—Ç–∏–ø –≤–Ω–∏–∑—É** –∫–∞–∂–¥–æ–≥–æ –æ–±–æ—è
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
  - Life Calendar: "Your life in weeks."
  - Year Calendar: "2025" + "X days left"
  - Goal Calendar: "Goal Name" + "X days to go"
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π spacing** –º–µ–∂–¥—É –∫—Ä—É–∂–∫–∞–º–∏
- **Circles –≤–º–µ—Å—Ç–æ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤** –¥–ª—è –Ω–µ–¥–µ–ª—å/–¥–Ω–µ–π

### üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–∏–∑–∞–π–Ω–µ
- –§–æ–Ω: `(10, 10, 10)` - —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π –≤–º–µ—Å—Ç–æ —á–µ—Ä–Ω–æ–≥–æ
- –ü—Ä–æ–∂–∏—Ç—ã–µ: `(255, 255, 255)` - –±–µ–ª—ã–µ
- –ë—É–¥—É—â–∏–µ: `(50, 50, 50)` - —Å–µ—Ä—ã–µ
- Gap –º–µ–∂–¥—É –∫—Ä—É–∂–∫–∞–º–∏: 30% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —è—á–µ–π–∫–∏

---

## üîó API Endpoints

### 1. Life Calendar (–ñ–∏–∑–Ω—å –≤ –Ω–µ–¥–µ–ª—è—Ö)
```
GET /api/generate?type=life&birth=2000-01-01&lifespan=90&w=1179&h=2556
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type=life` - —Ç–∏–ø –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `birth` - –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (YYYY-MM-DD)
- `lifespan` - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∂–∏–∑–Ω–∏ (–ª–µ—Ç)
- `w` - —à–∏—Ä–∏–Ω–∞ (–ø–∏–∫—Å–µ–ª–∏)
- `h` - –≤—ã—Å–æ—Ç–∞ (–ø–∏–∫—Å–µ–ª–∏)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

### 2. Year Calendar (–ì–æ–¥ –ø–æ –¥–Ω—è–º)
```
GET /api/generate?type=year&w=1179&h=2556
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type=year` - —Ç–∏–ø –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `w` - —à–∏—Ä–∏–Ω–∞ (–ø–∏–∫—Å–µ–ª–∏)
- `h` - –≤—ã—Å–æ—Ç–∞ (–ø–∏–∫—Å–µ–ª–∏)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ç–µ–∫—É—â–∏–º –≥–æ–¥–æ–º

---

### 3. Goal Calendar (–û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç)
```
GET /api/generate?type=goal&goal=Marathon&start=2024-01-01&deadline=2024-12-31&w=1179&h=2556
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type=goal` - —Ç–∏–ø –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `goal` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏
- `start` - –¥–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞ (YYYY-MM-DD)
- `deadline` - –¥–µ–¥–ª–∞–π–Ω (YYYY-MM-DD)
- `w` - —à–∏—Ä–∏–Ω–∞ (–ø–∏–∫—Å–µ–ª–∏)
- `h` - –≤—ã—Å–æ—Ç–∞ (–ø–∏–∫—Å–µ–ª–∏)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

---

## üì± iPhone –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `script.js` (—Å—Ç—Ä–æ–∫–∞ 119):

```javascript
const iphoneResolutions = {
    iphone15: { w: 1179, h: 2556 },  // iPhone 15 / 15 Pro / 16
    iphone14: { w: 1170, h: 2532 },  // iPhone 14 / 14 Pro
    iphone13: { w: 1170, h: 2532 },  // iPhone 13 / 13 Pro
    iphone12: { w: 1170, h: 2532 },  // iPhone 12 / 12 Pro
    iphone11: { w: 828, h: 1792 }    // iPhone 11 / XR
};
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
```bash
cd "D:\1 –û–°–ù–û–í–ê\1 [–ó–ê–ö–ê–ó–´]\MAIN"
python -m http.server 8000
```
–û—Ç–∫—Ä—ã—Ç—å: http://localhost:8000

### –ù–∞ Vercel:
```bash
cd "D:\1 –û–°–ù–û–í–ê\1 [–ó–ê–ö–ê–ó–´]\MAIN"
vercel
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Git:
```bash
git init
git add .
git commit -m "Add wallpaper API"
git push
```

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞ (api/generate.py):

**Life Calendar (—Å—Ç—Ä–æ–∫–∏ 18-21):**
```python
bg_color = (10, 10, 10)      # –§–æ–Ω
lived_color = (255, 255, 255) # –ü—Ä–æ–∂–∏—Ç—ã–µ –Ω–µ–¥–µ–ª–∏
future_color = (50, 50, 50)   # –ë—É–¥—É—â–∏–µ –Ω–µ–¥–µ–ª–∏
text_color = (120, 120, 120)  # –¢–µ–∫—Å—Ç
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞–¥–¥–∏–Ω–≥–∏ (—Å—Ç—Ä–æ–∫–∏ 31-34):
```python
clock_padding = h * 0.12      # 12% —Å–≤–µ—Ä—Ö—É –¥–ª—è —á–∞—Å–æ–≤
title_area = h * 0.05         # 5% –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
padding_x = w * 0.08          # 8% –ø–æ –±–æ–∫–∞–º
padding_bottom = h * 0.08     # 8% —Å–Ω–∏–∑—É
```

### –ò–∑–º–µ–Ω–∏—Ç—å spacing (—Å—Ç—Ä–æ–∫–∞ 44):
```python
gap = cell_size * 0.3  # 30% –∑–∞–∑–æ—Ä –º–µ–∂–¥—É –∫—Ä—É–∂–∫–∞–º–∏
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ:
```bash
ls -la "D:\1 –û–°–ù–û–í–ê\1 [–ó–ê–ö–ê–ó–´]\MAIN\api\generate.py"
ls -la "D:\1 –û–°–ù–û–í–ê\1 [–ó–ê–ö–ê–ó–´]\MAIN\requirements.txt"
ls -la "D:\1 –û–°–ù–û–í–ê\1 [–ó–ê–ö–ê–ó–´]\MAIN\vercel.json"
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
cd "D:\1 –û–°–ù–û–í–ê\1 [–ó–ê–ö–ê–ó–´]\MAIN"
python api/generate.py
```

### 3. –ü—Ä–æ–≤–µ—Ä—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π `public/index.html`
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "CREATE BLACK WALLPAPER"
3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É
4. –°–∫–æ–ø–∏—Ä—É–π URL –∏–∑ –ø–æ–ª—è "3.1 Get Contents of URL"
5. –í—Å—Ç–∞–≤—å URL –≤ –±—Ä–∞—É–∑–µ—Ä - –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ PNG

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "Missing birth parameter"
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `birth=YYYY-MM-DD`

### –û—à–∏–±–∫–∞: "Server error"
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Pillow: `pip install pillow`

### –ü—É—Å—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: –º–∏–Ω–∏–º—É–º 100x100, –º–∞–∫—Å–∏–º—É–º 5000x5000

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Vercel
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `vercel.json` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `requirements.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç `pillow`

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**Backend:**
- Python 3.7+
- Pillow (PIL) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- Vercel Serverless Functions

**Frontend:**
- Vanilla JavaScript
- Fetch API –¥–ª—è –≤—ã–∑–æ–≤–∞ –±—ç–∫–µ–Ω–¥–∞
- LocalStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

**Hosting:**
- Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ò–ª–∏ –ª—é–±–æ–π Python hosting (Heroku, Railway, etc.)

---

## üìù Changelog

### v2.0 (Current)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `api/generate.py` –¥–æ —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è —á–∞—Å–æ–≤ iPhone
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥–æ—Ç–∏–ø –≤–Ω–∏–∑—É
- ‚úÖ –£–ª—É—á—à–µ–Ω spacing –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –ø–æ–¥–ø–∏—Å–∏

### v1.0 (Original)
- –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π
- –ü—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω –±–µ–∑ –ª–æ–≥–æ—Ç–∏–ø–∞

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ú–æ–∂–µ—à—å –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ.

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å - –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã! üöÄ
